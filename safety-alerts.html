<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dispatch Safety Alerts</title>
    <style>
        html, body {
            margin: 0 !important;
            padding: 0 !important;
            background: #020617 !important;
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .safety-card {
            width: 100vw; 
            height: 100vh; 
            background-color: #ffcc00; /* Caution Yellow */
            border: 4px solid #000;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            font-family: 'Arial Black', Gadget, sans-serif;
        }

        .safety-header {
            background: #000;
            color: #ffcc00;
            padding: 20px;
            text-align: center;
            letter-spacing: 3px;
            font-size: 24px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
        }

        .safety-content {
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            text-align: center;
        }

        #fact-text {
            font-size: 2.5rem;
            color: #000;
            font-weight: bold;
            line-height: 1.3;
            margin: 0;
            transition: opacity 0.5s ease;
        }

        .progress-bar {
            height: 15px;
            background: rgba(0,0,0,0.1);
            width: 100%;
        }

        #progress-fill {
            height: 100%;
            background: #000;
            width: 0%;
        }
    </style>
</head>
<body>

<div class="safety-card">
    <div class="safety-header">
        <span class="alert-icon">⚠️</span>
        <span class="header-title">DISPATCH SAFETY ALERT</span>
    </div>
    <div class="safety-content">
        <p id="fact-text">Loading safety tips...</p>
    </div>
    <div class="progress-bar">
        <div id="progress-fill"></div>
    </div>
</div>

<script>
const safetyTips = [
  "THE FOOTBALL FIELD RULE: At 55 mph, a CMV needs 300+ feet to stop. Maintain a 7-second gap at all times.",
  "NO-ZONES: If you can't see the driver's face in their side mirror, you are invisible to them.",
  "RAMP SAFETY: Enter curves 5-10 mph BELOW the advisory speed to prevent center-of-gravity shifts.",
  "PRE-TRIP INSPECTION: 20% of crashes involve mechanical failure. Always check your slack adjusters and tire PSI.",
  "SCAN AHEAD: Maintain a 15-second eye lead time to anticipate traffic hazards before they require hard braking.",
  "MIRROR CHECK: Check your mirrors every 5 to 8 seconds to maintain full situational awareness of your trailer.",
  "HOS COMPLIANCE: Never exceed the 14-hour duty window. Fatigue is a factor in 13% of all CMV crashes.",
  "RIGHT TURNS: Avoid 'the squeeze.' Signal early and stay close to the curb or swing wide only if necessary and clear.",
  "BRIDGE CLEARANCE: Always know your height. A standard trailer is 13'6''; never trust GPS alone for bridge heights.",
  "STOPPING DISTANCE: A fully loaded tractor-trailer takes 40% longer to stop than a passenger vehicle.",
  "WET ROADS: Reduce speed by at least 1/3 on wet roads and by 1/2 or more on snow-packed surfaces.",
  "BLACK ICE: If the spray from tires on the road stops, the road is freezing. Slow down immediately.",
  "PARKING SAFETY: Avoid parking on the shoulder of highways. It increases the risk of 'underride' collisions.",
  "SEATBELT USAGE: 1 in 6 CMV drivers involved in fatal crashes were not wearing a seatbelt. Buckle up every time.",
  "LOAD STABILITY: Ensure your cargo is secured. A shifting load can cause a rollover even at low speeds.",
  "3-POINT ENTRY: Always use three points of contact when entering or exiting the cab to prevent slips and falls.",
  "DISTRACTED DRIVING: At 55 mph, looking at a phone for 5 seconds is like driving a football field blindfolded.",
  "WORK ZONES: CMV drivers are involved in 30% of work zone fatal crashes. Slow down and stay alert.",
  "TIRE BLOWOUTS: Do not slam on the brakes during a blowout. Accelerate slightly to stabilize, then ease off.",
  "JACKKNIFE PREVENTION: Avoid braking while turning or swerving. Braking on a curve is a primary cause of jackknifing.",
  "CELL PHONE POLICY: Hands-free is the only way. Fines for handheld use can reach $2,750 for drivers.",
  "SPEEDING FINES: Speeding is the most common driver-related factor in fatal CMV crashes. Watch your tachometer.",
  "INTERSECTION SAFETY: Cover the brake when entering an intersection to reduce your reaction time.",
  "REAR-END COLLISIONS: These are the most common CMV accidents. Maintaining a following distance is your best defense.",
  "POST-TRIP INSPECTION: Use your post-trip to identify leaks or wear that need repair before your next shift.",
  "WHEEL LUGS: Check for rust streaks around wheel lugs; this is a common sign of a loose or failing nut.",
  "AIR BRAKE TEST: Ensure your air pressure builds correctly and the low-air warning activates at 60 PSI.",
  "WEATHER PLANNING: Check weather reports along your entire route, not just your current location.",
  "NIGHT DRIVING: Use high beams when legal, but dim them within 500 feet of an oncoming vehicle.",
  "HYDROPLANING: If you feel the steering go 'light' in the rain, ease off the gas. Do not brake.",
  "FOG CONDITIONS: Use low beams and fog lights only. If visibility is near zero, pull over to a safe location.",
  "FUELING SAFETY: Never leave your vehicle unattended while fueling and ensure the engine is off.",
  "PEDESTRIAN AWARENESS: Be extra cautious in urban areas. CMVs have massive blind spots directly in front of the hood.",
  "COASTING: Never drive in neutral. It is illegal and prevents you from having engine-braking control.",
  "DEFENSIVE DRIVING: Assume other drivers will make mistakes. Always have an 'escape route' planned."
];

let currentTipIndex = -1;
const displayTime = 12000; // Increased to 12 seconds for easier reading

function rotateTip() {
  const textEl = document.getElementById('fact-text');
  const progressFill = document.getElementById('progress-fill');
  
  let newIndex;
  do {
    newIndex = Math.floor(Math.random() * safetyTips.length);
  } while (newIndex === currentTipIndex);
  
  currentTipIndex = newIndex;

  progressFill.style.transition = 'none';
  progressFill.style.width = '0%';

  setTimeout(() => {
    textEl.style.opacity = 0;
    
    setTimeout(() => {
      textEl.innerText = safetyTips[currentTipIndex];
      textEl.style.opacity = 1;

      progressFill.style.transition = `width ${displayTime}ms linear`;
      progressFill.style.width = '100%';
    }, 500);
  }, 50);
}

window.onload = () => {
  rotateTip();
  setInterval(rotateTip, displayTime);
};
</script>

</body>
</html>
